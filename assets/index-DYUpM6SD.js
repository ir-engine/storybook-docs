import{r as R,R as u}from"./index-DPzuYzxM.js";import{g as M}from"./resourceLoaderHooks-CRL4d032.js";import{g as U}from"./utils-C_TihLnJ.js";import{u as D}from"./WebRTCTransportFunctions-mB_FREj1.js";import{T as j}from"./index-D9X8Um7J.js";import{t as N}from"./tw-merge-Ds6tgvmq.js";function P(a,s){const n=1/s;return Math.round(a*n)/n}function v(a,s){if(a===0)return"0.00";if(s&&s<=1){const n=Math.abs(Math.log10(s)),i=Math.min(n,2),f=Math.max(i,n);return a.toLocaleString("fullwide",{minimumFractionDigits:i,maximumFractionDigits:f,useGrouping:!1})}return a.toLocaleString("fullwide",{useGrouping:!1})}const q=({className:a,disabled:s,inputClassName:n,unit:i,prefix:f,displayPrecision:b,value:x,precision:c,mediumStep:h,onChange:m,onRelease:E,smallStep:k,largeStep:F,min:p,max:w,prefixClassName:z,PreFixIcon:S,prefixIconClassName:A,SuffixIcon:y,suffixIconClassName:B,...G})=>{const o=D(0),r=D(!1),I=(e,t,d=!0)=>{const g=e?U(e,k,h,F):h,l=x+g*t,H=p!=null&&w!=null?M(l,p,w):l,L=c?P(H,c):l;m&&m(L),o.set(Number(v(L,c))),r.set(d)},K=e=>{let t;if(e.key==="ArrowUp")t=1;else if(e.key==="ArrowDown")t=-1;else return;e.preventDefault(),I(e,t)},O=e=>{const t=e.target.value;o.set(t),r.set(!0);const d=parseFloat(t);if(!Number.isNaN(d)){const g=p!=null&&w!=null?M(d,p,w):d,l=c?P(g,c):g;m==null||m(l),o.set(l)}},T=()=>{o.set(Number(v(x,b))),r.set(!0)},V=()=>{r.value&&(r.set(!1),E&&E(Number(o.value)))};return R.useEffect(()=>{const e=t=>{t.stopPropagation()};return r.value&&(window.addEventListener("wheel",e,{passive:!1}),window.addEventListener("touchmove",e,{passive:!1})),()=>{window.removeEventListener("wheel",e),window.removeEventListener("touchmove",e)}},[r]),u.createElement("div",{className:N("w-full px-2","flex h-8 items-center rounded-sm border border-ui-outline bg-ui-background",a)},S&&u.createElement(S,{className:A}),f&&u.createElement("div",{className:z},f),u.createElement("input",{className:N("h-full w-full bg-inherit text-center text-xs font-normal leading-normal text-text-primary focus:outline-none disabled:text-text-inactive",n),disabled:s??!1,value:r.value?o.value:v(x??0,b),onKeyDown:K,onFocus:T,onChange:O,onBlur:V,onMouseOut:V,type:"number",...G}),i&&u.createElement(j,{fontSize:"xs",className:N("text-right ",s?"text-text-secondary":"text-text-inactive")},i),y&&u.createElement(y,{className:B}))};q.defaultProps={value:0,smallStep:.025,mediumStep:.1,largeStep:.25,min:-1/0,max:1/0,displayPrecision:.001,precision:Number.EPSILON};export{q as N,P as t};
