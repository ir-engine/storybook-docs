import{u as I}from"./WebRTCTransportFunctions-mB_FREj1.js";import{R as e,r as A}from"./index-DPzuYzxM.js";import{h as q}from"./resourceLoaderHooks-CRL4d032.js";import{m as H,n as T}from"./ZoomOutSm-BKYTao-C.js";import{M as Z,a as Y}from"./three.module-BizNiMhn.js";import{g as _}from"./utils-C_TihLnJ.js";import{t as j,N as z}from"./index-DYUpM6SD.js";import{t as R}from"./tw-merge-Ds6tgvmq.js";const P=({className:o,children:V,smallStep:d,mediumStep:w,largeStep:a,sensitivity:f,min:x,max:r,precision:c,convertFrom:v,convertTo:m,value:y,onChange:S,onRelease:h,disabled:s,...i})=>{const E=R("flex items-center p-1 text-xs font-normal",o),t=I({isDragging:!1,startValue:0,delta:0,mouseX:0,mouseY:0,currentValue:0}),g=A.useRef(null),u=n=>{if(t.isDragging.value){const M=t.mouseX.value+n.movementX,k=t.mouseY.value+n.movementY,N=t.delta.value+n.movementX,U=_(n,d,w,a),$=t.startValue.value+Math.round(N/(f||1))*U,X=Z.clamp($,x??-1/0,r??1/0),F=c?j(X,c):X,D=m(F);S(D),t.merge({currentValue:D,delta:N,mouseX:M,mouseY:k})}},l=()=>{t.isDragging.value&&(t.merge({isDragging:!1,startValue:0,delta:0,mouseX:0,mouseY:0}),h&&h(t.currentValue.value),document.exitPointerLock())},p=n=>{var M;t.merge({isDragging:!0,startValue:v(y),delta:0,mouseX:n.clientX,mouseY:n.clientY}),(M=g==null?void 0:g.current)==null||M.requestPointerLock()};return e.createElement("div",{className:E,style:{cursor:s?"not-allowed":"ew-resize"},ref:g,onMouseDown:n=>!s&&p(n),onMouseMove:n=>!s&&u(n),onMouseUp:()=>!s&&l(),...i},V)};P.defaultProps={smallStep:.025,mediumStep:.1,largeStep:.25,sensitivity:5,min:-1/0,max:1/0,disabled:!1,convertFrom:o=>o,convertTo:o=>o};const B=e.memo(P),C=({axis:o,disabled:V,onChange:d,onRelease:w,axisLabel:a,value:f,...x})=>{const r=(()=>{switch(o){case"x":return"ui-error";case"y":return"ui-success";case"z":return"ui-primary";default:return"inherit"}})();x.className=R(`w-fit whitespace-nowrap text-${r}`);const c=a||o,v=`${c==null?void 0:c.toUpperCase()}`;return e.createElement(B,{onChange:d,onRelease:w,value:f,disabled:V,...x},v)},G=({uniformScaling:o,smallStep:V,mediumStep:d,largeStep:w,value:a,hideLabels:f,onChange:x,disabled:r,onRelease:c,onToggleUniformScale:v,...m})=>{const y=I(o??!1),S=()=>{y.set(l=>!l);const u=y.get();v&&v(u)},h=(u,l)=>{if(y.value){const p=new Y,n=l-a[u];return p.copy(a).addScalar(n),p}else{const p=new Y;return p.copy(a),p[u]=l,p}},s=u=>l=>{x(h(u,l))},i=u=>l=>{c==null||c(h(u,l))},E=a.x,t=a.y,g=a.z;return e.createElement("div",{className:"flex w-full items-center gap-x-1.5"},o!==void 0&&e.createElement("button",{onClick:S,className:"w-fit",tabIndex:-1,disabled:r},y.value?e.createElement(H,{className:"text-text-secondary hover:text-text-primary"}):e.createElement(T,{className:"text-text-secondary hover:text-text-primary"})),e.createElement("div",{className:"grid w-full grid-cols-3 gap-x-2"},e.createElement(z,{...m,value:E,disabled:r,onChange:s("x"),onRelease:i("x"),prefix:f?null:e.createElement(C,{...m,disabled:r,value:E,onChange:s("x"),onRelease:i("x"),axis:"x"})}),e.createElement(z,{...m,value:t,disabled:r,onChange:s("y"),onRelease:i("y"),prefix:f?null:e.createElement(C,{...m,disabled:r,value:t,onChange:s("y"),onRelease:i("y"),axis:"y"})}),e.createElement(z,{...m,value:g,disabled:r,onChange:s("z"),onRelease:i("z"),prefix:f?null:e.createElement(C,{...m,disabled:r,value:g,onChange:s("z"),onRelease:i("z"),axis:"z"})})))};G.defaultProps={value:q,hideLabels:!1,onChange:()=>{}};export{B as S,C as V,G as a};
