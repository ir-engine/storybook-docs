import{d as j,f as A,h as v,b as u,U as D}from"./index-_wFD3GG2.js";import{a as C,c as m,u as y}from"./Util-CG5_y5Pm.js";import{S as h,E as k}from"./EditorControlFunctions-DO7c3hDV.js";import{c as H}from"./ActionFunctions-CxzuxLxN.js";import{r as J,R as e}from"./index-CBqU2yxZ.js";import{af as G,l as S,j as O,k as N,p as U,h as x,T as i,C as F,N as _}from"./EditorServices-BJKHmurs.js";import{a as Q}from"./index-B_6CNmLi.js";import{g as T,h as w}from"./index-DGVNGK2X.js";import{B as d}from"./index-CGhkeU3i.js";import{I as E}from"./index-DZ02_pf3.js";import{S as b}from"./index-CmJ8aZaS.js";import{S as R}from"./index-OAa3bMdv.js";import{N as L}from"./index-BXX5lIfA.js";import{u as M}from"./useTranslation-C8TD7CCW.js";import"./v4-Dz_GI0CC.js";import"./three.module-D2RMN07C.js";import"./MathLerpFunctions-CYXVD2J2.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-DaaykCGs.js";import"./AssetType-LSGL9ANY.js";import"./WebContainer3D-CgDOwl0k.js";import"./lodash-BYTxXjAY.js";import"./NotificationService-BtHCxsFA.js";import"./index-DfU-XIjm.js";import"./index-DJX7trsF.js";import"./iconBase-vdkxwKJc.js";import"./XRState-BS8ja_cl.js";import"./client-DMi1NERe.js";import"./tw-merge-Ds6tgvmq.js";import"./index-DWVs1sLR.js";import"./index-CqRG3f1I.js";import"./index-6-YOBPgK.js";/* empty css                */import"./index-CXvzSdoX.js";import"./useClickOutside-D1hZxvBu.js";import"./index-Dn0AHKmy.js";import"./index-vJCBmx79.js";import"./index-DVAwpzAq.js";import"./index-ChWBCYBM.js";import"./index-BqFAen_F.js";import"./nonIterableRest-Y-KoC6Zs.js";const W=j([F]),f=a=>{const{t:s}=M(),p=H([{label:"Self",value:"",callbacks:[]}]),g=A(a.entity,i),V=G(a.entity,[x]);return J.useEffect(()=>{if(!v(a.entity,S)){const r=h.getSelectedEntities();k.addOrRemoveComponent(r,S,!0,{shape:O.Sphere,collisionLayer:N.Trigger,collisionMask:N.Avatars})}const o=[];o.push({label:"Self",value:"",callbacks:[]});for(const r of W()){if(r===a.entity||!v(r,U))continue;const t=u(r,F);o.push({label:u(r,_),value:u(r,D),callbacks:Object.keys(t).map(n=>({label:n,value:n}))})}p.set(o)},[]),e.createElement(L,{...a,name:s("editor:properties.trigger.name"),description:s("editor:properties.trigger.description"),icon:e.createElement(f.iconComponent,null)},e.createElement("div",{className:"my-3 flex justify-end"},!V&&e.createElement(d,{title:s("editor:properties.triggerVolume.lbl-addRigidBody"),startIcon:e.createElement(T,null),className:"text-sm text-[#FFFFFF]",onClick:()=>{const o=h.getSelectedEntities();k.addOrRemoveComponent(o,x,!0,{type:"fixed"})}},s("editor:properties.triggerVolume.lbl-addRigidBody"))),e.createElement("div",{className:"my-3 flex justify-end"},e.createElement(d,{variant:"transparent",title:s("editor:properties.triggerVolume.lbl-addTrigger"),startIcon:e.createElement(T,null),className:"text-sm text-[#8B8B8D]",onClick:()=>{const o=[...g.triggers.value,{target:"",onEnter:"",onExit:""}];C(i,{triggers:JSON.parse(JSON.stringify(o))},[a.entity])}})),g.triggers.map((o,r)=>{const t=p.value.find(l=>l.value===o.target.value),n=t?t.value:"";return e.createElement("div",{className:"-ml-4 h-[calc(100%+1.5rem)] w-[calc(100%+2rem)] bg-[#1A1A1A] pb-1.5"},e.createElement(d,{variant:"transparent",title:s("editor:properties.triggerVolume.lbl-removeTrigger"),startIcon:e.createElement(w,null),className:"ml-auto text-sm text-[#8B8B8D]",onClick:()=>{const l=[...g.triggers.value];l.splice(r,1),C(i,{triggers:JSON.parse(JSON.stringify(l))},[a.entity])}}),e.createElement(E,{name:"Target",label:s("editor:properties.triggerVolume.lbl-target")},e.createElement(b,{value:o.target.value??"",onChange:m(i,`triggers.${r}.target`),options:p.value.map(({label:l,value:$})=>({label:l,value:$})),disabled:a.multiEdit})),e.createElement(E,{name:"On Enter",label:s("editor:properties.triggerVolume.lbl-onenter")},t!=null&&t.callbacks.length?e.createElement(b,{value:o.onEnter.value,onChange:m(i,`triggers.${r}.onEnter`),options:t!=null&&t.callbacks?t.callbacks.slice():[],disabled:a.multiEdit||!n}):e.createElement(R,{value:o.onEnter.value,onChange:y(i,`triggers.${r}.onEnter`),onRelease:m(i,`triggers.${r}.onEnter`),disabled:a.multiEdit||!n,className:"bg-[#212226]"})),e.createElement(E,{name:"On Exit",label:s("editor:properties.triggerVolume.lbl-onexit")},t!=null&&t.callbacks.length?e.createElement(b,{value:o.onExit.value,onChange:m(i,`triggers.${r}.onExit`),options:t!=null&&t.callbacks?t.callbacks.slice():[],disabled:a.multiEdit||!n}):e.createElement(R,{value:o.onExit.value,onRelease:y(i,`triggers.${r}.onExit`),onChange:m(i,`triggers.${r}.onExit`),disabled:a.multiEdit||!n,className:"bg-[#212226]"})))}))};f.iconComponent=Q;const q={},De={title:"Editor/Properties/TriggerProperties",component:f,parameters:{componentSubtitle:"TriggerPropertiesNodeEditor",jest:"TriggerPropertiesNodeEditor.test.tsx",design:{type:"figma",url:""}},argTypes:q},c={args:{}};var B,P,I;c.parameters={...c.parameters,docs:{...(B=c.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {}
}`,...(I=(P=c.parameters)==null?void 0:P.docs)==null?void 0:I.source}}};const He=["Default"];export{c as Default,He as __namedExportsOrder,De as default};
