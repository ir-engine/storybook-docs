import{r as C,R as A}from"./index-DPzuYzxM.js";import{j as g}from"./jsx-runtime-DoNvqZ76.js";import{j as H}from"./three.module-BizNiMhn.js";import{T as ne}from"./index-D9X8Um7J.js";import{t as V}from"./tw-merge-Ds6tgvmq.js";function N(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(null,arguments)}var B=255,E=100,L=e=>{var{r:t,g:r,b:a,a:l}=e,o=Math.max(t,r,a),s=o-Math.min(t,r,a),n=s?o===t?(r-a)/s:o===r?2+(a-t)/s:4+(t-r)/s:0;return{h:60*(n<0?n+6:n),s:o?s/o*E:0,v:o/B*E,a:l}},J=e=>{var{h:t,s:r,l:a,a:l}=K(e);return"hsla("+t+", "+r+"%, "+a+"%, "+l+")"},K=e=>{var{h:t,s:r,v:a,a:l}=e,o=(200-r)*a/E;return{h:t,s:o>0&&o<200?r*a/E/(o<=E?o:200-o)*E:0,l:o/2,a:l}},Z=e=>{var{r:t,g:r,b:a}=e,l=t<<16|r<<8|a;return"#"+(o=>new Array(7-o.length).join("0")+o)(l.toString(16))},le=e=>{var{r:t,g:r,b:a,a:l}=e,o=typeof l=="number"&&(l*255|256).toString(16).slice(1);return""+Z({r:t,g:r,b:a})+(o||"")},D=e=>L(se(e)),se=e=>{var t=e.replace("#","");/^#?/.test(e)&&t.length===3&&(e="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2));var r=new RegExp("[A-Za-z0-9]{2}","g"),[a,l,o=0,s]=e.match(r).map(n=>parseInt(n,16));return{r:a,g:l,b:o,a:(s??255)/B}},z=e=>{var{h:t,s:r,v:a,a:l}=e,o=t/60,s=r/E,n=a/E,p=Math.floor(o)%6,h=o-Math.floor(o),f=B*n*(1-s),m=B*n*(1-s*h),v=B*n*(1-s*(1-h));n*=B;var c={};switch(p){case 0:c.r=n,c.g=v,c.b=f;break;case 1:c.r=m,c.g=n,c.b=f;break;case 2:c.r=f,c.g=n,c.b=v;break;case 3:c.r=f,c.g=m,c.b=n;break;case 4:c.r=v,c.g=f,c.b=n;break;case 5:c.r=n,c.g=f,c.b=m;break}return c.r=Math.round(c.r),c.g=Math.round(c.g),c.b=Math.round(c.b),i({},c,{a:l})},ie=e=>{var{r:t,g:r,b:a,a:l}=z(e);return"rgba("+t+", "+r+", "+a+", "+l+")"},ce=e=>{var{r:t,g:r,b:a}=e;return{r:t,g:r,b:a}},de=e=>{var{h:t,s:r,l:a}=e;return{h:t,s:r,l:a}},O=e=>Z(z(e)),he=e=>{var{h:t,s:r,v:a}=e;return{h:t,s:r,v:a}},ue=e=>{var{r:t,g:r,b:a}=e,l=function(f){return f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)},o=l(t/255),s=l(r/255),n=l(a/255),p={};return p.x=o*.4124+s*.3576+n*.1805,p.y=o*.2126+s*.7152+n*.0722,p.bri=o*.0193+s*.1192+n*.9505,p},P=e=>{var t,r,a,l,o,s,n,p,h;return typeof e=="string"&&$(e)?(s=D(e),p=e):typeof e!="string"&&(s=e),s&&(a=he(s),o=K(s),l=z(s),h=le(l),p=O(s),r=de(o),t=ce(l),n=ue(t)),{rgb:t,hsl:r,hsv:a,rgba:l,hsla:o,hsva:s,hex:p,hexa:h,xy:n}},$=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e);function Y(e){var t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useCallback((r,a)=>t.current&&t.current(r,a),[])}var M=e=>"touches"in e,X=e=>{!M(e)&&e.preventDefault&&e.preventDefault()},U=function(t,r,a){return r===void 0&&(r=0),a===void 0&&(a=1),t>a?a:t<r?r:t},W=(e,t)=>{var r=e.getBoundingClientRect(),a=M(t)?t.touches[0]:t;return{left:U((a.pageX-(r.left+window.pageXOffset))/r.width),top:U((a.pageY-(r.top+window.pageYOffset))/r.height),width:r.width,height:r.height,x:a.pageX-(r.left+window.pageXOffset),y:a.pageY-(r.top+window.pageYOffset)}},pe=["prefixCls","className","onMove","onDown"],F=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-interactive",className:a,onMove:l,onDown:o}=e,s=N(e,pe),n=C.useRef(null),p=C.useRef(!1),[h,f]=C.useState(!1),m=Y(l),v=Y(o),c=x=>p.current&&!M(x)?!1:(p.current=M(x),!0),y=C.useCallback(x=>{if(X(x),!!n.current){var k=M(x)?x.touches.length>0:x.buttons>0;if(!k){f(!1);return}m==null||m(W(n.current,x),x)}},[m]),u=C.useCallback(()=>f(!1),[]),d=C.useCallback(x=>{x?(window.addEventListener(p.current?"touchmove":"mousemove",y),window.addEventListener(p.current?"touchend":"mouseup",u)):(window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",u),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",u))},[y,u]);C.useEffect(()=>(d(h),()=>{d(!1)}),[h,y,u,d]);var b=C.useCallback(x=>{X(x.nativeEvent),c(x.nativeEvent)&&n.current&&(v==null||v(W(n.current,x.nativeEvent),x.nativeEvent),f(!0))},[v]);return g.jsx("div",i({},s,{className:[r,a||""].filter(Boolean).join(" "),style:i({},s.style,{touchAction:"none"}),ref:n,tabIndex:0,onMouseDown:b,onTouchStart:b}))});F.displayName="Interactive";var ve=e=>{var{className:t,color:r,left:a,top:l,prefixCls:o}=e,s={position:"absolute",top:l,left:a},n={"--saturation-pointer-box-shadow":"rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",width:6,height:6,transform:"translate(-3px, -3px)",boxShadow:"var(--saturation-pointer-box-shadow)",borderRadius:"50%",backgroundColor:r};return C.useMemo(()=>g.jsx("div",{className:o+"-pointer "+(t||""),style:s,children:g.jsx("div",{className:o+"-fill",style:n})}),[l,a,r,t,o])},ge=["prefixCls","radius","pointer","className","hue","style","hsva","onChange"],q=A.forwardRef((e,t)=>{var r,{prefixCls:a="w-color-saturation",radius:l=0,pointer:o,className:s,hue:n=0,style:p,hsva:h,onChange:f}=e,m=N(e,ge),v=i({width:200,height:200,borderRadius:l},p,{position:"relative"}),c=(u,d)=>{f&&h&&f({h:h.h,s:u.left*100,v:(1-u.top)*100,a:h.a})},y=C.useMemo(()=>{if(!h)return null;var u={top:100-h.v+"%",left:h.s+"%",color:J(h)};return o&&typeof o=="function"?o(i({prefixCls:a},u)):g.jsx(ve,i({prefixCls:a},u))},[h,o,a]);return g.jsx(F,i({className:[a,s||""].filter(Boolean).join(" ")},m,{style:i({position:"absolute",inset:0,cursor:"crosshair",backgroundImage:"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, hsl("+((r=h==null?void 0:h.h)!=null?r:n)+", 100%, 50%))"},v),ref:t,onMove:c,onDown:c,children:y}))});q.displayName="Saturation";var fe=["className","prefixCls","left","top","style","fillProps"],be=e=>{var{className:t,prefixCls:r,left:a,top:l,style:o,fillProps:s}=e,n=N(e,fe),p=i({},o,{position:"absolute",left:a,top:l}),h=i({width:18,height:18,boxShadow:"var(--alpha-pointer-box-shadow)",borderRadius:"50%",backgroundColor:"var(--alpha-pointer-background-color)"},s==null?void 0:s.style,{transform:a?"translate(-9px, -1px)":"translate(-1px, -9px)"});return g.jsx("div",i({className:r+"-pointer "+(t||""),style:p},n,{children:g.jsx("div",i({className:r+"-fill"},s,{style:h}))}))},xe=["prefixCls","className","hsva","background","bgProps","innerProps","pointerProps","radius","width","height","direction","style","onChange","pointer"],me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==",I=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-alpha",className:a,hsva:l,background:o,bgProps:s={},innerProps:n={},pointerProps:p={},radius:h=0,width:f,height:m=16,direction:v="horizontal",style:c,onChange:y,pointer:u}=e,d=N(e,xe),b=R=>{y&&y(i({},l,{a:v==="horizontal"?R.left:R.top}),R)},x=J(Object.assign({},l,{a:1})),k="linear-gradient(to "+(v==="horizontal"?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+x+" 100%)",j={};v==="horizontal"?j.left=l.a*100+"%":j.top=l.a*100+"%";var S=i({"--alpha-background-color":"#fff","--alpha-pointer-background-color":"rgb(248, 248, 248)","--alpha-pointer-box-shadow":"rgb(0 0 0 / 37%) 0px 1px 4px 0px",borderRadius:h,background:"url("+me+") left center",backgroundColor:"var(--alpha-background-color)"},{width:f,height:m},c,{position:"relative"}),w=u&&typeof u=="function"?u(i({prefixCls:r},p,j)):g.jsx(be,i({},p,{prefixCls:r},j));return g.jsxs("div",i({},d,{className:[r,r+"-"+v,a||""].filter(Boolean).join(" "),style:S,ref:t,children:[g.jsx("div",i({},s,{style:i({inset:0,position:"absolute",background:o||k,borderRadius:h},s.style)})),g.jsx(F,i({},n,{style:i({},n.style,{inset:0,zIndex:1,position:"absolute"}),onMove:b,onDown:b,children:w}))]}))});I.displayName="Alpha";var ye=["prefixCls","placement","label","value","className","style","labelStyle","inputStyle","onChange","onBlur","renderInput"],we=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e),Ce=e=>Number(String(e).replace(/%/g,"")),T=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-editable-input",placement:a="bottom",label:l,value:o,className:s,style:n,labelStyle:p,inputStyle:h,onChange:f,onBlur:m,renderInput:v}=e,c=N(e,ye),[y,u]=C.useState(o),d=C.useRef(!1);C.useEffect(()=>{e.value!==y&&(d.current||u(e.value))},[e.value]);function b(R,oe){var _=(oe||R.target.value).trim().replace(/^#/,"");we(_)&&f&&f(R,_);var G=Ce(_);isNaN(G)||f&&f(R,G),u(_)}function x(R){d.current=!1,u(e.value),m&&m(R)}var k={};a==="bottom"&&(k.flexDirection="column"),a==="top"&&(k.flexDirection="column-reverse"),a==="left"&&(k.flexDirection="row-reverse");var j=i({"--editable-input-label-color":"rgb(153, 153, 153)","--editable-input-box-shadow":"rgb(204 204 204) 0px 0px 0px 1px inset","--editable-input-color":"#666",position:"relative",alignItems:"center",display:"flex",fontSize:11},k,n),S=i({width:"100%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,fontSize:11,background:"transparent",boxSizing:"border-box",border:"none",color:"var(--editable-input-color)",boxShadow:"var(--editable-input-box-shadow)"},h),w=i({value:y,onChange:b,onBlur:x,autoComplete:"off",onFocus:()=>d.current=!0},c,{style:S});return g.jsxs("div",{className:[r,s||""].filter(Boolean).join(" "),style:j,children:[v?v(w,t):g.jsx("input",i({ref:t},w)),l&&g.jsx("span",{style:i({color:"var(--editable-input-label-color)",textTransform:"capitalize"},p),children:l})]})});T.displayName="EditableInput";var Ae=["prefixCls","hsva","placement","rProps","gProps","bProps","aProps","className","style","onChange"],ee=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-editable-input-rgba",hsva:a,placement:l="bottom",rProps:o={},gProps:s={},bProps:n={},aProps:p={},className:h,style:f,onChange:m}=e,v=N(e,Ae),c=a?z(a):{};function y(d){var b=Number(d.target.value);b&&b>255&&(d.target.value="255"),b&&b<0&&(d.target.value="0")}var u=(d,b,x)=>{typeof d=="number"&&(b==="a"&&(d<0&&(d=0),d>100&&(d=100),m&&m(P(L(i({},c,{a:d/100}))))),d>255&&(d=255,x.target.value="255"),d<0&&(d=0,x.target.value="0"),b==="r"&&m&&m(P(L(i({},c,{r:d})))),b==="g"&&m&&m(P(L(i({},c,{g:d})))),b==="b"&&m&&m(P(L(i({},c,{b:d})))))};return g.jsxs("div",i({ref:t,className:[r,h||""].filter(Boolean).join(" ")},v,{style:i({fontSize:11,display:"flex"},f),children:[g.jsx(T,i({label:"R",value:c.r||0,onBlur:y,placement:l,onChange:(d,b)=>u(b,"r",d)},o,{style:i({},o.style)})),g.jsx(T,i({label:"G",value:c.g||0,onBlur:y,placement:l,onChange:(d,b)=>u(b,"g",d)},s,{style:i({marginLeft:5},o.style)})),g.jsx(T,i({label:"B",value:c.b||0,onBlur:y,placement:l,onChange:(d,b)=>u(b,"b",d)},n,{style:i({marginLeft:5},n.style)})),p&&g.jsx(T,i({label:"A",value:c.a?parseInt(String(c.a*100),10):0,onBlur:y,placement:l,onChange:(d,b)=>u(b,"a",d)},p,{style:i({marginLeft:5},p.style)}))]}))});ee.displayName="EditableInputRGBA";var ke=["prefixCls","className","hue","onChange","direction"],re=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-hue",className:a,hue:l=0,onChange:o,direction:s="horizontal"}=e,n=N(e,ke);return g.jsx(I,i({ref:t,className:r+" "+(a||"")},n,{direction:s,background:"linear-gradient(to "+(s==="horizontal"?"right":"bottom")+", rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)",hsva:{h:l,s:100,v:100,a:l/360},onChange:(p,h)=>{o&&o({h:s==="horizontal"?360*h.left:360*h.top})}}))});re.displayName="Hue";var Re=["prefixCls","className","color","colors","style","rectProps","onChange","addonAfter","addonBefore","rectRender"],ae=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-swatch",className:a,color:l,colors:o=[],style:s,rectProps:n={},onChange:p,addonAfter:h,addonBefore:f,rectRender:m}=e,v=N(e,Re),c=i({"--swatch-background-color":"rgb(144, 19, 254)",background:"var(--swatch-background-color)",height:15,width:15,marginRight:5,marginBottom:5,cursor:"pointer",position:"relative",outline:"none",borderRadius:2},n.style),y=(u,d)=>{p&&p(D(u),P(D(u)),d)};return g.jsxs("div",i({ref:t},v,{className:[r,a||""].filter(Boolean).join(" "),style:i({display:"flex",flexWrap:"wrap",position:"relative"},s),children:[f&&A.isValidElement(f)&&f,o&&Array.isArray(o)&&o.map((u,d)=>{var b="",x="";typeof u=="string"&&(b=u,x=u),typeof u=="object"&&u.color&&(b=u.title||u.color,x=u.color);var k=l&&l.toLocaleLowerCase()===x.toLocaleLowerCase(),j=m&&m({title:b,color:x,checked:!!k,style:i({},c,{background:x}),onClick:w=>y(x,w)});if(j)return g.jsx(C.Fragment,{children:j},d);var S=n.children&&A.isValidElement(n.children)?A.cloneElement(n.children,{color:x,checked:k}):null;return g.jsx("div",i({tabIndex:0,title:b,onClick:w=>y(x,w)},n,{children:S,style:i({},c,{background:x})}),d)}),h&&A.isValidElement(h)&&h]}))});ae.displayName="Swatch";var je=["prefixCls","className","onChange","width","presetColors","color","editableDisable","disableAlpha","style"],Ne=["#D0021B","#F5A623","#f8e61b","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],Q=e=>g.jsx("div",{style:{boxShadow:"rgb(0 0 0 / 60%) 0px 0px 2px",width:4,top:1,bottom:1,left:e.left,borderRadius:1,position:"absolute",backgroundColor:"#fff"}}),te=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-sketch",className:a,onChange:l,width:o=218,presetColors:s=Ne,color:n,editableDisable:p=!0,disableAlpha:h=!1,style:f}=e,m=N(e,je),[v,c]=C.useState({h:209,s:36,v:90,a:1});C.useEffect(()=>{typeof n=="string"&&$(n)&&c(D(n)),typeof n=="object"&&c(n)},[n]);var y=w=>{c(w),l&&l(P(w))},u=(w,R)=>{typeof w=="string"&&$(w)&&/(3|6)/.test(String(w.length))&&y(D(w))},d=w=>y(i({},v,{a:w.a})),b=w=>y(i({},v,w,{a:v.a})),x=i({"--sketch-background":"rgb(255, 255, 255)","--sketch-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px, rgb(0 0 0 / 15%) 0px 8px 16px","--sketch-swatch-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset","--sketch-alpha-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset, rgb(0 0 0 / 25%) 0px 0px 4px inset","--sketch-swatch-border-top":"1px solid rgb(238, 238, 238)",background:"var(--sketch-background)",borderRadius:4,boxShadow:"var(--sketch-box-shadow)",width:o},f),k={borderRadius:2,background:ie(v),boxShadow:"var(--sketch-alpha-box-shadow)"},j={borderTop:"var(--sketch-swatch-border-top)",paddingTop:10,paddingLeft:10},S={marginRight:10,marginBottom:10,borderRadius:3,boxShadow:"var(--sketch-swatch-box-shadow)"};return g.jsxs("div",i({},m,{className:r+" "+(a||""),ref:t,style:x,children:[g.jsxs("div",{style:{padding:"10px 10px 8px"},children:[g.jsx(q,{hsva:v,style:{width:"auto",height:150},onChange:b}),g.jsxs("div",{style:{display:"flex",marginTop:4},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx(re,{width:"auto",height:10,hue:v.h,pointer:Q,innerProps:{style:{marginLeft:1,marginRight:5}},onChange:w=>y(i({},v,w))}),!h&&g.jsx(I,{width:"auto",height:10,hsva:v,pointer:Q,style:{marginTop:4},innerProps:{style:{marginLeft:1,marginRight:5}},onChange:d})]}),!h&&g.jsx(I,{width:24,height:24,hsva:v,radius:2,style:{marginLeft:4},bgProps:{style:{background:"transparent"}},innerProps:{style:k},pointer:()=>g.jsx(C.Fragment,{})})]})]}),p&&g.jsxs("div",{style:{display:"flex",margin:"0 10px 3px 10px"},children:[g.jsx(T,{label:"Hex",value:O(v).replace(/^#/,"").toLocaleUpperCase(),onChange:(w,R)=>u(R),style:{minWidth:58}}),g.jsx(ee,{hsva:v,style:{marginLeft:6},aProps:h?!1:{},onChange:w=>y(w.hsva)})]}),s&&s.length>0&&g.jsx(ae,{style:j,colors:s,color:O(v),onChange:w=>y(w),rectProps:{style:S}})]}))});te.displayName="Sketch";function Ee({value:e,onChange:t,onRelease:r,disabled:a,className:l,textClassName:o,sketchPickerClassName:s}){let n=new H(e);const p="#"+n.getHexString(),[h,f]=C.useState(!1),m=C.useRef(null),v=C.useRef(null),c=()=>{h||f(!0),y()},y=()=>{r&&r(n)},u=d=>{n=new H(d.hex),t(n)};return C.useEffect(()=>{const d=b=>{v.current&&!v.current.contains(b.target)&&m.current&&!m.current.contains(b.target)&&(f(!1),y())};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[p,r]),A.createElement("div",{tabIndex:0,ref:v,className:V("relative flex h-9 items-center gap-1 rounded-lg border-none bg-[#1A1A1A] px-2 text-xs text-[#8B8B8D]",a&&"cursor-not-allowed",l),onClick:c},A.createElement("div",{className:"focus: group h-5 w-5 cursor-pointer rounded border border-black",style:{backgroundColor:p}},h&&A.createElement("div",{ref:m},A.createElement(te,{className:V("absolute right-4 z-10 mt-5 ",s),color:p,onChange:u,disableAlpha:!0,onPointerLeave:()=>{y()}}))),A.createElement(ne,{fontSize:"xs",className:o},p.toUpperCase()))}Ee.defaultProps={value:new H,onChange:()=>{}};export{Ee as C};
