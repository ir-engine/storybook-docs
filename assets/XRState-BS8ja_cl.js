var v=Object.defineProperty;var f=(e,t,s)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var l=(e,t,s)=>(f(e,typeof t!="symbol"?t+"":t,s),s);import{V as S,Q as h}from"./three.module-D2RMN07C.js";import{d as u,m as i,a as M,g as o,u as d,b as c}from"./ActionFunctions-CxzuxLxN.js";import"./index-CBqU2yxZ.js";class m{}l(m,"sessionChanged",u({type:"xre.xr.sessionChanged",active:i.boolean,$cache:{removePrevious:!0}})),l(m,"vibrateController",u({type:"xre.xr.vibrateController",handedness:i.literals("left","right"),value:i.number,duration:i.number}));const a=M({name:"XRState",initial:()=>({sessionActive:!1,requestingSession:!1,scenePosition:new S,sceneRotation:new h,sceneScale:1,sceneScaleAutoMode:!0,sceneScaleTarget:1,sceneRotationOffset:0,scenePlacementMode:"unplaced",supportedSessionModes:{inline:!1,"immersive-ar":!1,"immersive-vr":!1},avatarCameraMode:"auto",unassingedInputSources:[],session:null,sessionMode:"none",depthDataTexture:null,is8thWallActive:!1,viewerPose:null,userEyeHeight:1.75,userHeightRatio:1,xrFrame:null}),get worldScale(){const{sceneScale:e,userHeightRatio:t}=o(a);return e*t},get isMovementControlsEnabled(){const{sessionActive:e,sessionMode:t,sceneScale:s}=o(a);return e&&t==="immersive-ar"?s!==1:!0},useMovementControlsEnabled:()=>{const{sessionActive:e,sessionMode:t,sceneScale:s}=d(a).value;return e&&t==="immersive-ar"?s!==1:!0},get isCameraAttachedToAvatar(){const{session:e,sceneScale:t,scenePlacementMode:s,avatarCameraMode:n}=o(a);return!e||s==="placing"?!1:n==="auto"?t===1:n==="attached"},useCameraAttachedToAvatar:()=>{const{session:e,sceneScale:t,scenePlacementMode:s,avatarCameraMode:n}=d(a).value;return!e||s==="placing"?!1:n==="auto"?t===1:n==="attached"},setTrackingSpace:()=>{const{xrFrame:e,userEyeHeight:t}=o(a);if(!e){c(a).userHeightRatio.set(1);return}const s=e.getViewerPose(g.localFloor);if(!s){c(a).userHeightRatio.set(1);return}c(a).userHeightRatio.set(s.transform.position.y/t)}}),g={origin:null,localFloor:null,viewer:null};globalThis.ReferenceSpace=g;const r="navigator"in globalThis?navigator.userAgent:"",C=r.includes("Oculus")||r.includes("VR")||r.includes("AR")||r.includes("Reality")||r.includes("Wolvic");export{g as R,a as X,m as a,C as i};
