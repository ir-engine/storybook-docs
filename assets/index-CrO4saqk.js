import{_ as c}from"./extends-CF3RwP-h.js";import{_ as S}from"./objectWithoutPropertiesLoose-CAYKN5F1.js";import{r as C,R as A}from"./index-CBqU2yxZ.js";import{j as g}from"./jsx-runtime-CKrituN3.js";import{F as H}from"./three.module-D2RMN07C.js";import{T as te}from"./index-ChWBCYBM.js";import{t as V}from"./tw-merge-Ds6tgvmq.js";var E=255,B=100,M=e=>{var{r:t,g:r,b:a,a:n}=e,o=Math.max(t,r,a),s=o-Math.min(t,r,a),l=s?o===t?(r-a)/s:o===r?2+(a-t)/s:4+(t-r)/s:0;return{h:60*(l<0?l+6:l),s:o?s/o*B:0,v:o/E*B,a:n}},Q=e=>{var{h:t,s:r,l:a,a:n}=J(e);return"hsla("+t+", "+r+"%, "+a+"%, "+n+")"},J=e=>{var{h:t,s:r,v:a,a:n}=e,o=(200-r)*a/B;return{h:t,s:o>0&&o<200?r*a/B/(o<=B?o:200-o)*B:0,l:o/2,a:n}},K=e=>{var{r:t,g:r,b:a}=e,n=t<<16|r<<8|a;return"#"+(o=>new Array(7-o.length).join("0")+o)(n.toString(16))},oe=e=>{var{r:t,g:r,b:a,a:n}=e,o=typeof n=="number"&&(n*255|256).toString(16).slice(1);return""+K({r:t,g:r,b:a,a:n})+(o||"")},_=e=>M(le(e)),le=e=>{var t=e.replace("#","");/^#?/.test(e)&&t.length===3&&(e="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2));var r=new RegExp("[A-Za-z0-9]{2}","g"),[a,n,o=0,s]=e.match(r).map(l=>parseInt(l,16));return{r:a,g:n,b:o,a:(s??255)/E}},z=e=>{var{h:t,s:r,v:a,a:n}=e,o=t/60,s=r/B,l=a/B,p=Math.floor(o)%6,h=o-Math.floor(o),u=E*l*(1-s),m=E*l*(1-s*h),b=E*l*(1-s*(1-h));l*=E;var i={};switch(p){case 0:i.r=l,i.g=b,i.b=u;break;case 1:i.r=m,i.g=l,i.b=u;break;case 2:i.r=u,i.g=l,i.b=b;break;case 3:i.r=u,i.g=m,i.b=l;break;case 4:i.r=b,i.g=u,i.b=l;break;case 5:i.r=l,i.g=u,i.b=m;break}return i.r=Math.round(i.r),i.g=Math.round(i.g),i.b=Math.round(i.b),c({},i,{a:n})},ne=e=>{var{r:t,g:r,b:a,a:n}=z(e);return"rgba("+t+", "+r+", "+a+", "+n+")"},se=e=>{var{r:t,g:r,b:a}=e;return{r:t,g:r,b:a}},ie=e=>{var{h:t,s:r,l:a}=e;return{h:t,s:r,l:a}},I=e=>K(z(e)),ce=e=>{var{h:t,s:r,v:a}=e;return{h:t,s:r,v:a}},he=e=>{var{r:t,g:r,b:a}=e,n=function(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)},o=n(t/255),s=n(r/255),l=n(a/255),p={};return p.x=o*.4124+s*.3576+l*.1805,p.y=o*.2126+s*.7152+l*.0722,p.bri=o*.0193+s*.1192+l*.9505,p},P=e=>{var t,r,a,n,o,s,l,p,h;return typeof e=="string"&&F(e)?(s=_(e),p=e):typeof e!="string"&&(s=e),s&&(a=ce(s),o=J(s),n=z(s),h=oe(n),p=I(s),r=ie(o),t=se(n),l=he(t)),{rgb:t,hsl:r,hsv:a,rgba:n,hsla:o,hsva:s,hex:p,hexa:h,xy:l}},F=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e);function Y(e){var t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useCallback((r,a)=>t.current&&t.current(r,a),[])}var D=e=>"touches"in e,O=e=>{!D(e)&&e.preventDefault&&e.preventDefault()},X=function(t,r,a){return r===void 0&&(r=0),a===void 0&&(a=1),t>a?a:t<r?r:t},U=(e,t)=>{var r=e.getBoundingClientRect(),a=D(t)?t.touches[0]:t;return{left:X((a.pageX-(r.left+window.pageXOffset))/r.width),top:X((a.pageY-(r.top+window.pageYOffset))/r.height),width:r.width,height:r.height,x:a.pageX-(r.left+window.pageXOffset),y:a.pageY-(r.top+window.pageYOffset)}},de=["prefixCls","className","onMove","onDown"],$=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-interactive",className:a,onMove:n,onDown:o}=e,s=S(e,de),l=C.useRef(null),p=C.useRef(!1),[h,u]=C.useState(!1),m=Y(n),b=Y(o),i=v=>p.current&&!D(v)?!1:(p.current=D(v),!0),w=C.useCallback(v=>{O(v);var k=D(v)?v.touches.length>0:v.buttons>0;k&&l.current?m&&m(U(l.current,v),v):u(!1)},[m]),f=C.useCallback(()=>u(!1),[]),d=C.useCallback(v=>{var k=v?window.addEventListener:window.removeEventListener;k(p.current?"touchmove":"mousemove",w),k(p.current?"touchend":"mouseup",f)},[]);C.useEffect(()=>(d(h),()=>{h&&d(!1)}),[h,d]);var x=C.useCallback(v=>{O(v.nativeEvent),i(v.nativeEvent)&&(b&&b(U(l.current,v.nativeEvent),v.nativeEvent),u(!0))},[b]);return g.jsx("div",c({},s,{className:[r,a||""].filter(Boolean).join(" "),style:c({},s.style,{touchAction:"none"}),ref:l,tabIndex:0,onMouseDown:x,onTouchStart:x}))});$.displayName="Interactive";var pe=e=>{var{className:t,color:r,left:a,top:n,prefixCls:o}=e,s={position:"absolute",top:n,left:a},l={"--saturation-pointer-box-shadow":"rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",width:6,height:6,transform:"translate(-3px, -3px)",boxShadow:"var(--saturation-pointer-box-shadow)",borderRadius:"50%",backgroundColor:r};return C.useMemo(()=>g.jsx("div",{className:o+"-pointer "+(t||""),style:s,children:g.jsx("div",{className:o+"-fill",style:l})}),[n,a,r,t,o])},ve=["prefixCls","radius","pointer","className","hue","style","hsva","onChange"],Z=A.forwardRef((e,t)=>{var r,{prefixCls:a="w-color-saturation",radius:n=0,pointer:o,className:s,hue:l=0,style:p,hsva:h,onChange:u}=e,m=S(e,ve),b=c({width:200,height:200,borderRadius:n},p,{position:"relative"}),i=(f,d)=>{u&&h&&u({h:h.h,s:f.left*100,v:(1-f.top)*100,a:h.a})},w=C.useMemo(()=>{if(!h)return null;var f={top:100-h.v+"%",left:h.s+"%",color:Q(h)};return o&&typeof o=="function"?o(c({prefixCls:a},f)):g.jsx(pe,c({prefixCls:a},f))},[h,o,a]);return g.jsx($,c({className:[a,s||""].filter(Boolean).join(" ")},m,{style:c({position:"absolute",inset:0,cursor:"crosshair",backgroundImage:"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, hsl("+((r=h==null?void 0:h.h)!=null?r:l)+", 100%, 50%))"},b),ref:t,onMove:i,onDown:i,children:w}))});Z.displayName="Saturation";var ge=["className","prefixCls","left","top","style","fillProps"],ue=e=>{var{className:t,prefixCls:r,left:a,top:n,style:o,fillProps:s}=e,l=S(e,ge),p=c({},o,{position:"absolute",left:a,top:n}),h=c({width:18,height:18,boxShadow:"var(--alpha-pointer-box-shadow)",borderRadius:"50%",backgroundColor:"var(--alpha-pointer-background-color)"},s==null?void 0:s.style,{transform:a?"translate(-9px, -1px)":"translate(-1px, -9px)"});return g.jsx("div",c({className:r+"-pointer "+(t||""),style:p},l,{children:g.jsx("div",c({className:r+"-fill"},s,{style:h}))}))},fe=["prefixCls","className","hsva","background","bgProps","innerProps","pointerProps","radius","width","height","direction","style","onChange","pointer"],be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==",L=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-alpha",className:a,hsva:n,background:o,bgProps:s={},innerProps:l={},pointerProps:p={},radius:h=0,width:u,height:m=16,direction:b="horizontal",style:i,onChange:w,pointer:f}=e,d=S(e,fe),x=R=>{w&&w(c({},n,{a:b==="horizontal"?R.left:R.top}),R)},v=Q(Object.assign({},n,{a:1})),k="linear-gradient(to "+(b==="horizontal"?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+v+" 100%)",N={};b==="horizontal"?N.left=n.a*100+"%":N.top=n.a*100+"%";var j=c({"--alpha-background-color":"#fff","--alpha-pointer-background-color":"rgb(248, 248, 248)","--alpha-pointer-box-shadow":"rgb(0 0 0 / 37%) 0px 1px 4px 0px",borderRadius:h,background:"url("+be+") left center",backgroundColor:"var(--alpha-background-color)"},{width:u,height:m},i,{position:"relative"}),y=f&&typeof f=="function"?f(c({prefixCls:r},p,N)):g.jsx(ue,c({},p,{prefixCls:r},N));return g.jsxs("div",c({},d,{className:[r,r+"-"+b,a||""].filter(Boolean).join(" "),style:j,ref:t,children:[g.jsx("div",c({},s,{style:c({inset:0,position:"absolute",background:o||k,borderRadius:h},s.style)})),g.jsx($,c({},l,{style:c({},l.style,{inset:0,zIndex:1,position:"absolute"}),onMove:x,onDown:x,children:y}))]}))});L.displayName="Alpha";var xe=["prefixCls","placement","label","value","className","style","labelStyle","inputStyle","onChange","onBlur"],me=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e),ye=e=>Number(String(e).replace(/%/g,"")),T=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-editable-input",placement:a="bottom",label:n,value:o,className:s,style:l,labelStyle:p,inputStyle:h,onChange:u,onBlur:m}=e,b=S(e,xe),[i,w]=C.useState(o),f=C.useRef(!1);C.useEffect(()=>{e.value!==i&&(f.current||w(e.value))},[e.value]);function d(j,y){var R=(y||j.target.value).trim().replace(/^#/,"");me(R)&&u&&u(j,R);var G=ye(R);isNaN(G)||u&&u(j,G),w(R)}function x(j){f.current=!1,w(e.value),m&&m(j)}var v={};a==="bottom"&&(v.flexDirection="column"),a==="top"&&(v.flexDirection="column-reverse"),a==="left"&&(v.flexDirection="row-reverse");var k=c({"--editable-input-label-color":"rgb(153, 153, 153)","--editable-input-box-shadow":"rgb(204 204 204) 0px 0px 0px 1px inset","--editable-input-color":"#666",position:"relative",alignItems:"center",display:"flex",fontSize:11},v,l),N=c({width:"100%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,fontSize:11,background:"transparent",boxSizing:"border-box",border:"none",color:"var(--editable-input-color)",boxShadow:"var(--editable-input-box-shadow)"},h);return g.jsxs("div",{className:[r,s||""].filter(Boolean).join(" "),style:k,children:[g.jsx("input",c({ref:t,value:i,onChange:d,onBlur:x,autoComplete:"off",onFocus:()=>f.current=!0},b,{style:N})),n&&g.jsx("span",{style:c({color:"var(--editable-input-label-color)",textTransform:"capitalize"},p),children:n})]})});T.displayName="EditableInput";var we=["prefixCls","hsva","placement","rProps","gProps","bProps","aProps","className","style","onChange"],q=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-editable-input-rgba",hsva:a,placement:n="bottom",rProps:o={},gProps:s={},bProps:l={},aProps:p={},className:h,style:u,onChange:m}=e,b=S(e,we),i=a?z(a):{};function w(d){var x=Number(d.target.value);x&&x>255&&(d.target.value="255"),x&&x<0&&(d.target.value="0")}var f=(d,x,v)=>{typeof d=="number"&&(x==="a"&&(d<0&&(d=0),d>100&&(d=100),m&&m(P(M(c({},i,{a:d/100}))))),d>255&&(d=255,v.target.value="255"),d<0&&(d=0,v.target.value="0"),x==="r"&&m&&m(P(M(c({},i,{r:d})))),x==="g"&&m&&m(P(M(c({},i,{g:d})))),x==="b"&&m&&m(P(M(c({},i,{b:d})))))};return g.jsxs("div",c({ref:t,className:[r,h||""].filter(Boolean).join(" ")},b,{style:c({fontSize:11,display:"flex"},u),children:[g.jsx(T,c({label:"R",value:i.r||0,onBlur:w,placement:n,onChange:(d,x)=>f(x,"r",d)},o,{style:c({},o.style)})),g.jsx(T,c({label:"G",value:i.g||0,onBlur:w,placement:n,onChange:(d,x)=>f(x,"g",d)},s,{style:c({marginLeft:5},o.style)})),g.jsx(T,c({label:"B",value:i.b||0,onBlur:w,placement:n,onChange:(d,x)=>f(x,"b",d)},l,{style:c({marginLeft:5},l.style)})),p&&g.jsx(T,c({label:"A",value:i.a?parseInt(String(i.a*100),10):0,onBlur:w,placement:n,onChange:(d,x)=>f(x,"a",d)},p,{style:c({marginLeft:5},p.style)}))]}))});q.displayName="EditableInputRGBA";var Ce=["prefixCls","className","hue","onChange","direction"],ee=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-hue",className:a,hue:n=0,onChange:o,direction:s="horizontal"}=e,l=S(e,Ce);return g.jsx(L,c({ref:t,className:r+" "+(a||"")},l,{direction:s,background:"linear-gradient(to "+(s==="horizontal"?"right":"bottom")+", rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)",hsva:{h:n,s:100,v:100,a:n/360},onChange:(p,h)=>{o&&o({h:s==="horizontal"?360*h.left:360*h.top})}}))});ee.displayName="Hue";var Ae=["prefixCls","className","color","colors","style","rectProps","onChange","addonAfter","addonBefore","rectRender"],re=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-swatch",className:a,color:n,colors:o=[],style:s,rectProps:l={},onChange:p,addonAfter:h,addonBefore:u,rectRender:m}=e,b=S(e,Ae),i=c({"--swatch-background-color":"rgb(144, 19, 254)",background:"var(--swatch-background-color)",height:15,width:15,marginRight:5,marginBottom:5,cursor:"pointer",position:"relative",outline:"none",borderRadius:2},l.style),w=(f,d)=>{p&&p(_(f),P(_(f)),d)};return g.jsxs("div",c({ref:t},b,{className:[r,a||""].filter(Boolean).join(" "),style:c({display:"flex",flexWrap:"wrap",position:"relative"},s),children:[u&&A.isValidElement(u)&&u,o&&Array.isArray(o)&&o.map((f,d)=>{var x="",v="";typeof f=="string"&&(x=f,v=f),typeof f=="object"&&f.color&&(x=f.title||f.color,v=f.color);var k=n&&n.toLocaleLowerCase()===v.toLocaleLowerCase(),N=m&&m({title:x,color:v,checked:!!k,style:c({},i,{background:v}),onClick:y=>w(v,y)});if(N)return g.jsx(C.Fragment,{children:N},d);var j=l.children&&A.isValidElement(l.children)?A.cloneElement(l.children,{color:v,checked:k}):null;return g.jsx("div",c({tabIndex:0,title:x,onClick:y=>w(v,y)},l,{children:j,style:c({},i,{background:v})}),d)}),h&&A.isValidElement(h)&&h]}))});re.displayName="Swatch";var ke=["prefixCls","className","onChange","width","presetColors","color","editableDisable","disableAlpha","style"],Ne=["#D0021B","#F5A623","#f8e61b","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],W=e=>g.jsx("div",{style:{boxShadow:"rgb(0 0 0 / 60%) 0px 0px 2px",width:4,top:1,bottom:1,left:e.left,borderRadius:1,position:"absolute",backgroundColor:"#fff"}}),ae=A.forwardRef((e,t)=>{var{prefixCls:r="w-color-sketch",className:a,onChange:n,width:o=218,presetColors:s=Ne,color:l,editableDisable:p=!0,disableAlpha:h=!1,style:u}=e,m=S(e,ke),[b,i]=C.useState({h:209,s:36,v:90,a:1});C.useEffect(()=>{typeof l=="string"&&F(l)&&i(_(l)),typeof l=="object"&&i(l)},[l]);var w=y=>{i(y),n&&n(P(y))},f=(y,R)=>{typeof y=="string"&&F(y)&&/(3|6)/.test(String(y.length))&&w(_(y))},d=y=>w(c({},b,{a:y.a})),x=y=>w(c({},b,y,{a:b.a})),v=c({"--sketch-background":"rgb(255, 255, 255)","--sketch-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px, rgb(0 0 0 / 15%) 0px 8px 16px","--sketch-swatch-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset","--sketch-alpha-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset, rgb(0 0 0 / 25%) 0px 0px 4px inset","--sketch-swatch-border-top":"1px solid rgb(238, 238, 238)",background:"var(--sketch-background)",borderRadius:4,boxShadow:"var(--sketch-box-shadow)",width:o},u),k={borderRadius:2,background:ne(b),boxShadow:"var(--sketch-alpha-box-shadow)"},N={borderTop:"var(--sketch-swatch-border-top)",paddingTop:10,paddingLeft:10},j={marginRight:10,marginBottom:10,borderRadius:3,boxShadow:"var(--sketch-swatch-box-shadow)"};return g.jsxs("div",c({},m,{className:r+" "+(a||""),ref:t,style:v,children:[g.jsxs("div",{style:{padding:"10px 10px 8px"},children:[g.jsx(Z,{hsva:b,style:{width:"auto",height:150},onChange:x}),g.jsxs("div",{style:{display:"flex",marginTop:4},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx(ee,{width:"auto",height:10,hue:b.h,pointer:W,innerProps:{style:{marginLeft:1,marginRight:5}},onChange:y=>w(c({},b,y))}),!h&&g.jsx(L,{width:"auto",height:10,hsva:b,pointer:W,style:{marginTop:4},innerProps:{style:{marginLeft:1,marginRight:5}},onChange:d})]}),!h&&g.jsx(L,{width:24,height:24,hsva:b,radius:2,style:{marginLeft:4},bgProps:{style:{background:"transparent"}},innerProps:{style:k},pointer:()=>g.jsx(C.Fragment,{})})]})]}),p&&g.jsxs("div",{style:{display:"flex",margin:"0 10px 3px 10px"},children:[g.jsx(T,{label:"Hex",value:I(b).replace(/^#/,"").toLocaleUpperCase(),onChange:(y,R)=>f(R),style:{minWidth:58}}),g.jsx(q,{hsva:b,style:{marginLeft:6},aProps:h?!1:{},onChange:y=>w(y.hsva)})]}),s&&s.length>0&&g.jsx(re,{style:N,colors:s,color:I(b),onChange:y=>w(y),rectProps:{style:j}})]}))});ae.displayName="Sketch";function je({value:e,onChange:t,onRelease:r,disabled:a,className:n,textClassName:o,sketchPickerClassName:s}){const l=new H(e),p="#"+l.getHexString(),h=u=>{const m=new H(u.hex);t(m)};return A.createElement("div",{className:V("relative flex h-9 items-center gap-1 rounded-lg border-none bg-[#1A1A1A] px-2 text-xs text-[#8B8B8D]",a&&"cursor-not-allowed",n)},A.createElement("div",{tabIndex:0,className:"group h-5 w-5 cursor-pointer rounded border border-black focus:border-theme-primary",style:{backgroundColor:p}},A.createElement(ae,{className:V("absolute right-4 z-10 mt-5 scale-0 bg-theme-surface-main focus-within:scale-100 group-focus:scale-100",s),color:p,onChange:h,disableAlpha:!0,onPointerLeave:()=>{r&&r(l)}})),A.createElement(te,{fontSize:"xs",className:o},p.toUpperCase()))}je.defaultProps={value:new H,onChange:()=>{}};export{je as C};
