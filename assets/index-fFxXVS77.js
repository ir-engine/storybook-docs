import{c as Y}from"./ActionFunctions-CxzuxLxN.js";import{R as t,r as L}from"./index-CBqU2yxZ.js";import{b as $}from"./MathLerpFunctions-CYXVD2J2.js";import{a as A,b as B}from"./index-DWVs1sLR.js";import{M as T,V as D}from"./three.module-D2RMN07C.js";import{B as j}from"./index-CGhkeU3i.js";import{g as q,N as S}from"./index-Cb0NQbVM.js";import{t as F}from"./miscUtils-D11F-TOL.js";import{t as b}from"./tw-merge-Ds6tgvmq.js";const I=({className:n,children:v,smallStep:x,mediumStep:d,largeStep:l,sensitivity:c,min:f,max:m,precision:a,convertFrom:g,convertTo:M,value:V,onChange:u,onRelease:r,...y})=>{const h=b("flex items-center","cursor-ew-resize p-1","text-xs font-normal",n),e=Y({isDragging:!1,startValue:0,delta:0,mouseX:0,mouseY:0,currentValue:0}),o=L.useRef(null),s=i=>{if(e.isDragging.value){const E=e.mouseX.value+i.movementX,k=e.mouseY.value+i.movementY,C=e.delta.value+i.movementX,U=q(i,x,d,l),P=e.startValue.value+Math.round(C/(c||1))*U,w=T.clamp(P,f??-1/0,m??1/0),R=a?F(w,a):w,X=M(R);u(X),e.merge({currentValue:X,delta:C,mouseX:E,mouseY:k})}},p=()=>{e.isDragging.value&&(e.merge({isDragging:!1,startValue:0,delta:0,mouseX:0,mouseY:0}),r&&r(e.currentValue.value),document.exitPointerLock())},N=i=>{var E;e.merge({isDragging:!0,startValue:g(V),delta:0,mouseX:i.clientX,mouseY:i.clientY}),(E=o==null?void 0:o.current)==null||E.requestPointerLock()};return t.createElement("div",{className:h,ref:o,onMouseDown:N,onMouseMove:s,onMouseUp:p,...y},v)};I.defaultProps={smallStep:.025,mediumStep:.1,largeStep:.25,sensitivity:5,min:-1/0,max:1/0,convertFrom:n=>n,convertTo:n=>n};const H=t.memo(I),z=({axis:n,onChange:v,onRelease:x,value:d,children:l,...c})=>{const f=(()=>{switch(n){case"x":return"red-500";case"y":return"green-400";case"z":return"blue-400";default:return"inherit"}})();c.className=b(`w-full text-${f}`);const m=l??`${n==null?void 0:n.toUpperCase()} - `;return t.createElement(H,{onChange:v,onRelease:x,value:d,...c},m)},Z=({uniformScaling:n,smallStep:v,mediumStep:x,largeStep:d,value:l,hideLabels:c,onChange:f,onRelease:m,...a})=>{const g=Y(!1),M=()=>{g.set(o=>!o)},V=(o,s)=>{if(g.value)return new D(s,s);{const p=new D;return p.copy(l),p[o]=s,p}},u=o=>s=>{f(V(o,s))},r=o=>s=>{m==null||m(V(o,s))},y=l.x,h=l.y,e=l.z;return t.createElement("div",{className:"flex flex-row flex-wrap justify-end gap-1.5"},n&&t.createElement(j,{variant:"transparent",startIcon:g.value?t.createElement(A,null):t.createElement(B,null),onClick:M,className:"p-0"}),t.createElement(S,{...a,value:y,onChange:u("x"),onRelease:r("x"),prefix:c?null:t.createElement(z,{...a,value:y,onChange:u("x"),onRelease:r("x"),axis:"x"})}),t.createElement(S,{...a,value:h,onChange:u("y"),onRelease:r("y"),prefix:c?null:t.createElement(z,{...a,value:h,onChange:u("y"),onRelease:r("y"),axis:"y"})}),t.createElement(S,{...a,value:e,onChange:u("z"),onRelease:r("z"),prefix:c?null:t.createElement(z,{...a,value:e,onChange:u("z"),onRelease:r("z"),axis:"z"})}))};Z.defaultProps={value:$,hideLabels:!1,onChange:()=>{}};export{z as V,Z as a};
