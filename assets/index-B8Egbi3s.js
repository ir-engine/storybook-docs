import{r as c,R as p}from"./index-DPzuYzxM.js";import{d as m,g as a,a as b}from"./WebRTCTransportFunctions-mB_FREj1.js";import{t as k}from"./tw-merge-Ds6tgvmq.js";const e=m({name:"ee.client.ModalState",initial:{modals:[],backdrop:"blur"},openModal:(t,r,l="blur")=>{a(e).modals.merge([{element:t,onClickOutside:r||e.closeModal}]),l==="transparent"&&a(e).backdrop.set("transparent")},closeModal:()=>{const t=a(e).modals.length;a(e).modals.set(r=>(r.pop(),r)),t===1&&a(e).backdrop.set("blur")},isModalOpen:()=>a(e).modals.length>0}),d=t=>{const r=b(e).backdrop,l=c.useRef(null),n=c.useRef(null);return c.useEffect(()=>{if(!n.current)return;const o=s=>{const i=n.current;if(!i)return;let u=!1;for(const f of i.children)if(f.contains(s.target)){u=!0;break}!u&&l.current&&l.current()};return n.current.addEventListener("pointerup",o),()=>{var s;(s=n.current)==null||s.removeEventListener("pointerup",o)}},[n.current]),c.useEffect(()=>{l.current=t.onClickOutside||null},[t.onClickOutside]),p.createElement("div",{ref:n,className:k("fixed inset-0 z-[1000] flex h-full w-full items-center justify-center",r==="blur"?"backdrop-blur-[50px]":"bg-transparent/50")},t.children)};d.displayName="ClickawayListener";d.defaultProps={children:null};export{d as C,e as M};
