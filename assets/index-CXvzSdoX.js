import{r as f,R as l}from"./index-CBqU2yxZ.js";import{c as I}from"./index-DJX7trsF.js";import{g as Y,a as F,B as T}from"./WebContainer3D-CgDOwl0k.js";import{u as B}from"./useClickOutside-D1hZxvBu.js";import{c as g}from"./ActionFunctions-CxzuxLxN.js";import{I as H}from"./index-Dn0AHKmy.js";import{u as K}from"./useTranslation-C8TD7CCW.js";import{t as m}from"./tw-merge-Ds6tgvmq.js";const W=(o,u=0)=>{if(!o)return;const t=Y(o),n=F(new T),a=n.top-((t==null?void 0:t.top)??0),i=((t==null?void 0:t.top)??0)+((t==null?void 0:t.height)??0)-(n.top+n.height);let s=0;a>0?s=a:i>0&&(s=-i),s+=u,o.style.transform=`translateY(${s}px)`},Z=({className:o,label:u,error:t,description:n,options:a,currentValue:i,onChange:s,placeholder:y,disabled:d,menuClassname:C,menuItemClassName:x,labelClassName:S,inputVariant:k,inputClassName:R,errorBorder:z,searchDisabled:p,inputContainerClassName:L,endComponent:D})=>{const b=f.useRef(null),E=f.useRef(null),{t:J}=K(),c=g(!1),h=g(JSON.parse(JSON.stringify(a))),v=g("");B(b,()=>c.set(!1)),f.useEffect(()=>{const e=()=>{W(E.current,-50)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),f.useEffect(()=>{var r;const e=(r=a.find(O=>O.value===i))==null?void 0:r.label;e&&v.set(e||"")},[i,a]),f.useEffect(()=>{h.set(JSON.parse(JSON.stringify(a)))},[a]);const N=()=>{a.length!==0&&c.set(e=>!e)},M=e=>{p&&e.preventDefault()},$=e=>{if(p)return;const r=a.filter(w=>w.label.toLowerCase().startsWith(e.target.value.toLowerCase()));r.length>0&&(h.set(r),v.set(e.target.value)),a.find(w=>w.label===e.target.value)&&s(r[0].value)},A=e=>{e.disabled||(c.set(!1),s(e.value))};return l.createElement("div",{className:m("relative w-full",o),ref:b},l.createElement(H,{disabled:d,label:u,labelClassname:S,variant:k,description:n,error:t,errorBorder:z,className:m("cursor-pointer",R),placeholder:y||J("common:select.selectOption"),value:v.value,onChange:$,onClick:N,onMouseDown:M,endComponent:D??l.createElement(I,{size:"1.5em",className:`mr-2 transition-transform ${c.value?"rotate-180":""} ${d?"opacity-50":""}`,onClick:()=>{d||N()}}),containerClassName:L}),l.createElement("div",{className:`absolute z-30 mt-2 w-full rounded border border-theme-primary bg-theme-surface-main ${c.value?"visible":"hidden"}`,ref:E},l.createElement("ul",{className:m("max-h-40 overflow-auto [&>li]:px-4 [&>li]:py-2",C)},h.value.map((e,r)=>l.createElement("li",{key:r,value:e.value,className:m("cursor-pointer px-4 py-2 text-theme-secondary",e.disabled?"cursor-not-allowed":"hover:bg-theme-highlight hover:text-theme-highlight",x),onClick:()=>A(e)},e.label)))))};export{Z as S};
