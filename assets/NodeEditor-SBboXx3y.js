var S=Object.defineProperty;var L=(t,o,e)=>o in t?S(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e;var l=(t,o,e)=>L(t,typeof o!="symbol"?o+"":o,e);import{r as c,R as r}from"./index-DPzuYzxM.js";import{h as C,r as y}from"./UUIDComponent-GqVY2Xw8.js";import{C as d,S as g,a as D}from"./index-Dp9Z83cc.js";import{A as b}from"./resourceLoaderHooks-CRL4d032.js";import{L as T}from"./index-C53TPVpl.js";import{T as v}from"./index-D9X8Um7J.js";import{u as w}from"./useTranslation-CW9c4UDM.js";class P extends r.Component{constructor(){super(...arguments);l(this,"state",{error:null})}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,i){console.error("Uncaught error:",e,i)}render(){return this.state.error?r.createElement("div",{className:"m-2.5 overflow-auto bg-gray-600 text-red-500"},r.createElement(v,{fontWeight:"bold",component:"h1"},"[",this.props.name,"] ",this.state.error.message),r.createElement("pre",null,this.state.error.stack)):this.props.children}}const A={GLTFComponent:"ModelComponent",RigidBodyComponent:"RigidbodyComponent",TriggerCallbackComponent:"TriggerComponent"},k=["ModelComponent","AudioComponent","VideoComponent","ImageComponent","PrimitiveGeometryComponent","GroundPlaneComponent","VariantComponent","ColliderComponent","RigidbodyComponent","TriggerComponent","SpawnPointComponent","LinkComponent","MountPointComponent","InterableComponent","InputComponent","ScreenshareTargetComponent","AmbientLightComponent","PointLightComponent","SpotLightComponent","DirectionalLightComponent","HemisphereLightComponent","LoopAnimationComponent","ShadowComponent","ParticleSystemComponent","EnvMapComponent","PostprocessingComponent"],F=({description:t,children:o,name:e,entity:i,component:n,Icon:h})=>{const{t:u}=w(),m=!1;c.useEffect(()=>(e&&d.addOrUpdateEntity(i,e,m,!1),()=>{const a=g.getSelectedEntities();e&&n&&!C(i,n)&&d.removeComponentEntry(a,e)}),[]);const p=(n==null?void 0:n.name)||"",s=A[p]||p,f=s&&k.includes(s)?s.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""):"";return r.createElement(D,{name:e,description:t,slug:f,Icon:h,onClose:n&&C(i,n)?()=>{const a=g.getSelectedEntities();for(const E of a)y(E,n);b.snapshotEntities(a)}:void 0,entity:i,minimizedDefault:m},r.createElement(c.Suspense,{fallback:r.createElement(T,{className:"block h-12 w-12",title:u("common:loader.loadingDynamic",{name:e})})},r.createElement(P,{name:e},o)))};export{F as N};
